<!DOCTYPE html>
<html>
  <head>
    <title>Excercise 12</title>
  </head>
  <body>
    <!--12c.-->
    <button class="js-start-button">Start</button>

    <!--12e.-->
    <button class="js-add-button">Add to cart</button>
    <p class="js-added-paragraph"></p>

    <script>
      //12a.
      const add = function function1() {
        console.log(2 + 3);
      }

      add();
      add();

      //12b.
      function runTwice(fun) {
        fun();
        fun();
      }

      runTwice(function() {console.log('12b')});
      runTwice(add);

      //12c. 12d.
      const updateButton = () => {
        const startButton = document.querySelector(".js-start-button");
        startButton.innerHTML = 'Loading...';
        setTimeout(function() {
          startButton.innerHTML = 'Finished!';
        }, 1000)
      }

      document.querySelector('.js-start-button')
        .addEventListener('click', updateButton);

      //12e.
      let timeoutId;

      const addToCart = () => {
        if (timeoutId) {
          clearTimeout(timeoutId);
        }
        
        const paragraph = document.querySelector('.js-added-paragraph');
        paragraph.innerHTML = 'Added';

         timeoutId = setTimeout(function() {
          paragraph.innerHTML = '';
        }, 2000)
      }

      document.querySelector('.js-add-button')
        .addEventListener('click', addToCart);

      //12j. 12k.
      const multiply = (num1, num2) => num1 * num2;

      console.log(multiply(2, 3));
      console.log(multiply(7, 10));

      //12l.
      const countPositive = (nums) => {
        let positiveCounter = 0;
        nums.forEach(num => {
          if (num > 0) {
            positiveCounter++;
          }
        })
        return positiveCounter;
      };

      console.log(countPositive([1, -3, 5]));
      console.log(countPositive([-2, 3, -5, 7, 10]));

      //12m.
      const addNum = (array, num) => array.map(value => value + num);

      console.log(addNum([1, 2, 3], 2));
      console.log(addNum([-2, -1, 0, 99], 2));

      //12n. 12o.
      const removeEgg = (food) => {
        let eggCounter = 0;
        
        return food.filter(value => {
          if (value === 'egg' && eggCounter < 2) {
            eggCounter++;
            return false;
          }
          return true;
        }); 
      };

      console.log(removeEgg(['egg', 'apple', 'egg', 'egg', 'ham']));
    </script>
  </body>
</html>